<div class="employeeDetails">
  <p-table
    #emp
    [value]="employeeDetails"
    [rows]="5"
    styleClass="table"
    [scrollable]="true"
    scrollDirection="both"
    scrollHeight="500px"
    [resizableColumns]="true"
    columnResizeMode="expand"
    [globalFilterFields]="[
      'EmployeeNo',
      'EmployeeName',
      'Department',
      'Gender',
      'Status',
      'Informed',
      'UnInformed',
      'date',
      'Email'
    ]"
    [showCurrentPageReport]="true"
    currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
    [paginator]="true"
    [rowsPerPageOptions]="[5, 10, 20, 50, 100, 150, 200]"
  >
    <ng-template pTemplate="caption">
      <input
        pInputText
        type="text"
        (input)="emp.filterGlobal($any($event.target).value, 'contains')"
        placeholder="Global Search"
      />
    </ng-template>
    <ng-template pTemplate="header">
      <tr>
        <th pFrozenColumn>EmpId</th>
        <th pFrozenColumn>EmployeeName</th>
        <th>Photo</th>
        <th>Department</th>
        <th>Gender</th>
        <th>
          Date
          <p-columnFilter
            type="date"
            field="date"
            display="menu"
          ></p-columnFilter>
        </th>
        <th>Email</th>
        <th>
          Status
          <p-columnFilter field="status" matchMode="equals" display="menu">
            <ng-template
              pTemplate="filter"
              let-value
              let-filter="filterCallback"
            >
              <p-dropdown
                [ngModel]="value"
                [options]="statuses"
                (onChange)="filter($event.value)"
                placeholder="Status"
              >
                <ng-template let-option pTemplate="item">
                  <p-tag [value]="option.value"></p-tag>
                </ng-template>
              </p-dropdown>
            </ng-template>
          </p-columnFilter>
        </th>
        <th>Informed</th>
        <th>Reason</th>
        <th>Send Email</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-employeeDetail>
      <tr>
        <td pFrozenColumn>{{ employeeDetail.EmployeeNo }}</td>
        <td pFrozenColumn>{{ employeeDetail.EmployeeName }}</td>
        <td>
          <img [src]="employeeDetail.Photo"  />
        </td>
        <td>{{ employeeDetail.Department }}</td>
        <td>{{ employeeDetail.Gender }}</td>
        <td>{{ employeeDetail.date.toLocaleDateString() }}</td>
        <td>{{ employeeDetail.Email }}</td>
        <td>
          <button
            pButton
            [label]="employeeDetail.Status === true ? 'Present' : 'Absent'"
            [ngStyle]="{
              'background-color':
                employeeDetail.Status === true ? 'green' : 'red'
            }"
          ></button>
        </td>
        <td
          [ngStyle]="{
            visibility: employeeDetail.Status === true ? 'hidden' : 'visibility'
          }"
        >
          <button
            pButton
            [label]="employeeDetail.Informed === true ? 'Yes' : 'No'"
            [ngStyle]="{
              'background-color':
                employeeDetail.Informed === true ? 'green' : 'red'
            }"
          ></button>
        </td>
        <td>{{ employeeDetail.Reason }}</td>
        <td>
          <button  
          [disabled]="employeeDetail.Status === true  "
            pButton
            (click)="request(employeeDetail)"
            label="Send Email"
          ></button>
        </td>
      </tr>
    </ng-template>
  </p-table>
</div>
