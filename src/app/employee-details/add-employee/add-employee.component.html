<div class="outer">
  <div class="main">
    <h3 id="heading">Add Employee Details</h3>
  </div>

  <p-card styleClass="emp-form">
    <form [formGroup]="myForm" (ngSubmit)="onSubmit()">
      <!-- Name -->
      <div>
        <label for="name" class="block">Name</label>
        <input
          type="text"
          pInputText
          placeholder="Enter Name"
          formControlName="name"
        /><small
          class="p-error block"
          *ngIf="myForm.get('name')?.invalid && myForm.get('name')?.dirty"
        >
          Name is required</small
        >
      </div>
      <!-- DOB -->
      <div class="field">
        <label for="dob" class="block">Date of Birth</label>
        <p-calendar
          formControlName="dob"
          [showIcon]="true"
          dateFormat="dd-mm-yy"
          placeholder="DD-MM-YYYY"
          id="dob"
        ></p-calendar>

        <small
          class="p-error block"
          *ngIf="myForm.get('dob')?.invalid && myForm.get('dob')?.dirty"
        >
          Data of Birth is required</small
        >
      </div>
      <!-- Phone Number -->
      <div class="field">
        <label for="phone" class="block">Phone Number</label>
        <p-inputMask
          mask="99999 99999"
          formControlName="phone"
          placeholder="98765 43210"
        ></p-inputMask>
        <small
          class="p-error block"
          *ngIf="myForm.get('phone')?.invalid && myForm.get('phone')?.dirty"
        >
          Phone Number is required</small
        >
      </div>

      <!-- Nationality -->
      <div class="field">
        <label for="nationality" class="block">Nationality</label>
        <div class="flex flex-wrap gap-3">
          <div class="flex align-items-center">
            <p-radioButton
              value="indian"
              label="Indian"
              formControlName="nationality"
            ></p-radioButton>

            <div class="flex align-items-center">
              <p-radioButton
                value="others"
                label="Others"
                formControlName="nationality"
              ></p-radioButton>
            </div>
          </div>
          <small
            class="p-error block"
            *ngIf="
              myForm.get('nationality')?.invalid &&
              myForm.get('nationality')?.dirty
            "
          >
            Nationality is required</small
          >
        </div>

        <!-- Date of Joining -->
        <div class="field">
          <label for="date_of_joining" class="block">Date of Joining</label>
          <p-calendar
            formControlName="date_of_joining"
            [showIcon]="true"
            dateFormat="dd-mm-yy"
            placeholder="DD-MM-YYYY"
          ></p-calendar>
          <small
            class="p-error block"
            *ngIf="
              myForm.get('date_of_joining')?.invalid &&
              myForm.get('date_of_joining')?.dirty
            "
          >
            Data of Joining is required</small
          >
        </div>

        <!-- Department -->
        <div class="field">
          <label for="department" class="block">Department</label>
          <p-dropdown
            formControlName="department"
            [options]="departments"
            optionLabel="dept"
          ></p-dropdown>
          <small
            class="p-error block"
            *ngIf="myForm.get('dept')?.invalid && myForm.get('dept')?.dirty"
          >
            Department is required</small
          >
        </div>

        <!-- Gender -->
        <div class="field">
          <label for="gender" class="block">Gender</label>
          <div class="flex flex-wrap gap-3">
            <div class="flex align-items-center">
              <p-radioButton
                value="male"
                label="male"
                formControlName="gender"
              ></p-radioButton>
              <div class="flex align-items-center">
                <p-radioButton
                  value="female"
                  label="female"
                  formControlName="gender"
                ></p-radioButton>
              </div>
              <div class="flex align-items-center">
                <p-radioButton
                  value="others"
                  label="others"
                  formControlName="gender"
                ></p-radioButton>
              </div>
            </div>
          </div>
          <small
            class="p-error block"
            *ngIf="myForm.get('gender')?.invalid && myForm.get('gender')?.dirty"
          >
            Gender is required</small
          >
        </div>

        <!-- Active -->
        <div class="field">
          <label for="isActive" class="block">Active Status</label>
          <div class="flex flex-wrap gap-3">
            <div class="flex align-items-center">
              <p-radioButton
                value="active"
                label="active"
                formControlName="isActive"
              ></p-radioButton>
            </div>
            <div class="flex align-items-center">
              <p-radioButton value="inactive" label="Inactive" formControlName="isActive"
              [disabled]="true"></p-radioButton>
            </div>
          </div>
          <small
            class="p-error block"
            *ngIf="
              myForm.get('isActive')?.invalid && myForm.get('isActive')?.dirty
            "
          >
            Active Status is required</small
          >
        </div>
        <!-- Address -->
        <div formGroupName="address">
          <div class="field">
            <label for="address_line1" class="block">Address Line 1</label>
            <input
              pInputText
              formControlName="address_line1"
              placeholder="Enter Address Line 1"
            />
            <small
              class="p-error block"
              *ngIf="
                myForm.get('address')?.get('address_line1')?.invalid &&
                myForm.get('address')?.get('address_line1')?.dirty
              "
            >
              Address Line 1 is required</small
            >
          </div>
          <div class="field">
            <label for="address_line2" class="block">Address Line 2</label>
            <input
              pInputText
              formControlName="address_line2"
              placeholder="Enter Address Line 2"
            />
            <!-- <small
          class="p-error block"
          *ngIf="
            myForm.get('address')?.get('address_line2')?.invalid &&
            myForm.get('address')?.get('address_line2')?.dirty
          "
        >
          Address Line 2 is required</small
        > -->
          </div>
          <div class="field">
            <label for="city" class="block">City</label>
            <input pInputText formControlName="city" placeholder="Enter City" />
            <small
              class="p-error block"
              *ngIf="
                myForm.get('address')?.get('city')?.invalid &&
                myForm.get('address')?.get('city')?.dirty
              "
            >
              City is required</small
            >
          </div>
          <div class="field">
            <label for="state" class="block">State</label>
            <input
              pInputText
              formControlName="state"
              placeholder="Enter State"
            />
            <small
              class="p-error block"
              *ngIf="
                myForm.get('address')?.get('state')?.invalid &&
                myForm.get('address')?.get('state')?.dirty
              "
            >
              State is required</small
            >
          </div>
          <div class="field">
            <label for="pincode" class="block">Pincode</label>
            <p-inputMask
              mask="999 999"
              formControlName="pincode"
              placeholder="765 432"
            ></p-inputMask>
            <small
              class="p-error block"
              *ngIf="
                myForm.get('address')?.get('pincode')?.invalid &&
                myForm.get('address')?.get('pincode')?.dirty
              "
            >
              Pincode is required</small
            >
          </div>
        </div>
        <!-- Father Name -->
        <div class="field">
          <label for="fathername" class="block">Father Name</label>
          <input
            type="text"
            pInputText
            placeholder="Enter Father Name"
            formControlName="fathername"
          />
          <small
            class="p-error block"
            *ngIf="
              myForm.get('fathername')?.invalid &&
              myForm.get('fathername')?.dirty
            "
          >
            Father Name is required</small
          >
        </div>

        <!-- Employee Number -->
        <div class="field">
          <label for="employee_no" class="block">Employee Number</label>
          <p-inputNumber
            formControlName="employee_no"
            mode="decimal"
            [useGrouping]="false"
          >
          </p-inputNumber>
          <small
            class="p-error block"
            *ngIf="
              myForm.get('employee_no')?.invalid &&
              myForm.get('employee_no')?.dirty
            "
          >
            Employee Number is required</small
          >
        </div>
        <!-- Photo -->
        <div class="field">
          <label for="qualification" class="block">Photo</label>
          <p-fileUpload
            mode="basic"
            name="photo"
            chooseLabel="Choose"
            accept="image/*"
            (onSelect)="onFileSelect($event)"
          ></p-fileUpload>
        </div>

        <!-- Qualification -->
        <div class="field">
          <label for="qualification" class="block">Qualification</label>
          <input
            pInputText
            formControlName="qualification"
            placeholder="Enter Qualification"
          />
          <small
            class="p-error block"
            *ngIf="
              myForm.get('qualification')?.invalid &&
              myForm.get('qualification')?.dirty
            "
          >
            Qualification is required</small
          >
        </div>

        <!-- CTC -->
        <div class="field">
          <label for="ctc" class="block">CTC</label>
          <p-inputNumber
            formControlName="ctc"
            placeholder="Enter CTC"
          ></p-inputNumber>
          <small
            class="p-error block"
            *ngIf="myForm.get('ctc')?.invalid && myForm.get('ctc')?.dirty"
          >
            CTC is required</small
          >
        </div>

        <!-- Mail -->
        <div class="field">
          <label for="mail" class="block">Mail ID</label>
          <input
            type="email"
            pInputText
            formControlName="mail"
            placeholder="Enter Mail ID"
          />
          <!-- <small
          class="p-error block"
        >
          Mail ID is required</small
        > -->
          <!-- <span *ngIf="!myForm.get('mail').errors?.['required'] && !myForm.get('mail').errors?.['minlength'] && !myForm.get('mail').errors?.['maxlength'] && myForm.get('mail').errors?.['myForm.get('mail')Validator']">
          Invalid email format.
        </span> -->
        </div>

        <!-- Experience/ Fresher -->
        <div class="field">
          <label for="emp_nation" class="block">Experience / Fresher</label>
          <div class="flex flex-wrap gap-3">
            <div class="flex align-items-center">
              <p-radioButton
                value="experience"
                formControlName="experience"
                inputId="experience"
              ></p-radioButton>
              <label for="experience" class="sub-label">Exeperience</label>
            </div>

            <div class="flex align-items-center">
              <p-radioButton
                value="fresher"
                formControlName="experience"
                inputId="fresher"
              ></p-radioButton>
              <label for="fresher" class="sub-label">Fresher</label>
            </div>
          </div>
          <small
            class="p-error block"
            *ngIf="
              myForm.get('experience')?.invalid &&
              myForm.get('experience')?.dirty
            "
          >
            Selection required</small
          >
        </div>

        <!-- Experience Details -->
        <div
          formGroupName="experience_details"
          *ngIf="myForm.value.experience == 'experience'"
        >
          <div class="field">
            <label for="years" class="block">Year of Experience</label>
            <p-inputMask
              mask="9"
              formControlName="years"
              placeholder="Enter Year of Experience"
            ></p-inputMask>
            <small
              class="p-error block"
              *ngIf="
                myForm.get('experience_details')?.get('years')?.invalid &&
                myForm.get('experience_details')?.get('years')?.dirty
              "
            >
              Year of Experience is required</small
            >
          </div>

          <!-- Company -->
          <div class="field">
            <label for="company" class="block">Company Name</label>
            <input
              type="text"
              pInputText
              placeholder="Enter Company Name"
              formControlName="company"
            />
            <small
              class="p-error block"
              *ngIf="
                myForm.get('experience_details')?.get('company')?.invalid &&
                myForm.get('experience_details')?.get('company')?.dirty
              "
            >
              > Company Name is required</small
            >
          </div>

          <!-- Start Date -->
          <div class="field">
            <label for="joinDate" class="block">Date of Join</label>
            <p-calendar
              formControlName="joinDate"
              [showIcon]="true"
              dateFormat="dd-mm-yy"
              placeholder="DD-MM-YYYY"
            ></p-calendar>
            <small
              class="p-error block"
              *ngIf="
                myForm.get('experience_details')?.get('joinDate')?.invalid &&
                myForm.get('experience_details')?.get('joinDate')?.dirty
              "
            >
              Data of Join is required</small
            >
          </div>

          <!-- End Date -->
          <div class="field">
            <label for="endDate" class="block">Date of End</label>
            <p-calendar
              formControlName="endDate"
              [showIcon]="true"
              dateFormat="dd-mm-yy"
              placeholder="DD-MM-YYYY"
            ></p-calendar>
            <small
              class="p-error block"
              *ngIf="
                myForm.get('experience_details')?.get('endDate')?.invalid &&
                myForm.get('experience_details')?.get('endDate')?.dirty
              "
            >
              Data of End is required</small
            >
          </div>
        </div>

        <!-- Emergency  Contact Number -->
        <div class="field">
          <label for="emergency_Phone" class="block"
            >Emergency Contact Number</label
          >
          <p-inputMask
            mask="99999 99999"
            formControlName="emergency_Phone"
            placeholder="98765 43210"
          ></p-inputMask>
          <small
            class="p-error block"
            *ngIf="
              myForm.get('emergency_Phone')?.invalid &&
              myForm.get('emergency_Phone')?.dirty
            "
          >
            Emergency Contact is required</small
          >
        </div>

        <!-- Aadhaar Number -->
        <div class="field">
          <label for="aadhaar" class="block">Aadhaar Number</label>
          <p-inputMask
            mask="9999 9999 9999"
            formControlName="aadhaar"
            placeholder="9876 5432 1098"
            class="input_field"
          ></p-inputMask>
          <small
            class="p-error block"
            *ngIf="
              myForm.get('aadhaar')?.invalid && myForm.get('aadhaar')?.dirty
            "
          >
            Aadhaar Number is required</small
          >
        </div>

        <!-- PAN number -->
        <div class="field">
          <label for="pan" class="block">PAN Number</label>

          <input pInputText placeholder="ABCTY1234D" formControlName="pan" />
          <small
            class="p-error block"
            *ngIf="myForm.get('pan')?.invalid && myForm.get('pan')?.dirty"
          >
            PAN is required</small
          >
        </div>

        <div class="mainbtn">
          <div class="sbtn">
            <p-button type="submit">Submit</p-button>
            <!-- <p-button type="submit" [disabled]="!myForm.valid">Submit</p-button> -->
          </div>
          <div class="sbtn">
            <p-button label="Reset" (click)="onReset()"></p-button>
          </div>
        </div>
      </div></form
  ></p-card>
</div>
